# |  (C) 2008-2020 Potsdam Institute for Climate Impact Research (PIK)
# |  authors, and contributors see CITATION.cff file. This file is part
# |  of MAgPIE and licensed under AGPL-3.0-or-later. Under Section 7 of
# |  AGPL-3.0, you are granted additional permissions described in the
# |  MAgPIE License Exception, version 1.0 (see LICENSE file).
# |  Contact: magpie@pik-potsdam.de

##################
#### SETTINGS ####
##################

cfg <- list()

#### Main settings ####

# short description of the actual run
cfg$title <- "default"

# path to the submodel to be used relative to main model folder
cfg$model <- "main.gms"   #def = "main.gms"

#### input settings ####

# which input data sets should be used?

cfg$input <- c("magpie4.2_default_apr20.tgz",
               "private_forestry_dec18_20200312.tgz","coupling_co2_prices_apr20.tgz")

#a list of repositories (please pay attention to the list format!) in which the
#files should be searched for. Files will be searched in all repositories until
#found, always starting with the first repository in the list. The argument must
#have the format of a named list with the url of the repository as name and a
#corresponding list of options such as username or password to access the
#repository as value. If no options are required the value has to be NULL. (e.g.
#list("ftp://my_pw_protected_server.de/data"=list(user="me",password=12345),
#     "http://free_server.de/dat"=NULL))
#Please add system or user specific repositories (such as repos with limited
#access for) through the R option "magpie_repos". Through the append command
#below it will get merged into cfg$repositories

cfg$repositories <- append(list("https://rse.pik-potsdam.de/data/magpie/public"=NULL,"/p/projects/landuse/users/mishra/additional_data_private_forestry"=NULL,"/p/projects/magpie/users/mishra/projects/coupling"=NULL), getOption("magpie_repos"))


# Should input data be downloaded from source even if cfg$input did not change?
cfg$force_download <- FALSE

# Should an existing output folder be replaced if a new run with the same name is started?
cfg$force_replace <- FALSE

# Settings for the yield calibration
# * (TRUE): Yield calibration will be performed
# * (ifneeded): Yield calibration will only be executed if input data is
# *             downloaded from repository
# * (FALSE): Yield calibration will not be performed
cfg$recalibrate <- "ifneeded"     # def = "ifneeded"
# Up to which accuracy shall be recalibrated?
cfg$calib_accuracy <- 0.05         # def = 0.05
# What is the maximum number of iterations if the precision goal is not reached?
cfg$calib_maxiter <- 20           # def = 20
# factor determining how much the new calibration factor influences the result
# (0-1)
cfg$damping_factor <- 0.98        # def= 0.98
# switch on/of calibration of cropland (pasture will be left untouched)
cfg$calib_cropland <- TRUE         # def= TRUE


# Settings for NPI/NDC recalculation
# * (TRUE): NPI/NDC recalculation will be performed
# * (ifneeded): NPI/NDC recalculation will only be executed if current input files are zero
# *             and policy switches (p32_aff_pol, p35_ad_pol, p35_emis_pol) are set to "npi" or "ndc".
# *             If policy switches are set to "none" (default) NPI/NDC recalculation will not be performed
# * (FALSE): NPI/NDC recalculation will not be performed
cfg$recalc_npi_ndc <- "ifneeded"    # def = ifneeded
# * which national or subnational mappinng should be used
# * (iso): policies on the national levels
# * (bra): includes subnational policies for Brazil
cfg$policyregions <- "bra"           # def = "bra"

#### magpie.gms settings ####
cfg$gms <- list()

# Set number of time steps (1-16) or type "less_TS" for remind time steps
cfg$gms$c_timesteps <- "5year"

# historic time steps
cfg$gms$c_past <- "till_2010"

# Year until which all parameters are fixed to SSP2 values
cfg$gms$sm_fix_SSP2 <- 2020

# use of gdx files
cfg$gms$s_use_gdx <- 2  # def = 2
#*                   0:  gdx will not be loaded
#*                   1:  gdx is loaded in the first time step
#*                   2:  gdx is loaded in all time steps

# **----------------------------------------------------------------------------
# ***                           MODULES
# ***---------------------------------------------------------------------------

#### Useful shortcuts ####
# Vector of all iso countries (used for regional policy implementations)
all_iso_countries <- "ABW,AFG,AGO,AIA,ALA,ALB,AND,ARE,ARG,ARM,
                          ASM,ATA,ATF,ATG,AUS,AUT,AZE,BDI,BEL,BEN,
                          BES,BFA,BGD,BGR,BHR,BHS,BIH,BLM,BLR,BLZ,
                          BMU,BOL,BRA,BRB,BRN,BTN,BVT,BWA,CAF,CAN,
                          CCK,CHN,CHE,CHL,CIV,CMR,COD,COG,COK,COL,
                          COM,CPV,CRI,CUB,CUW,CXR,CYM,CYP,CZE,DEU,
                          DJI,DMA,DNK,DOM,DZA,ECU,EGY,ERI,ESH,ESP,
                          EST,ETH,FIN,FJI,FLK,FRA,FRO,FSM,GAB,GBR,
                          GEO,GGY,GHA,GIB,GIN,GLP,GMB,GNB,GNQ,GRC,
                          GRD,GRL,GTM,GUF,GUM,GUY,HKG,HMD,HND,HRV,
                          HTI,HUN,IDN,IMN,IND,IOT,IRL,IRN,IRQ,ISL,
                          ISR,ITA,JAM,JEY,JOR,JPN,KAZ,KEN,KGZ,KHM,
                          KIR,KNA,KOR,KWT,LAO,LBN,LBR,LBY,LCA,LIE,
                          LKA,LSO,LTU,LUX,LVA,MAC,MAF,MAR,MCO,MDA,
                          MDG,MDV,MEX,MHL,MKD,MLI,MLT,MMR,MNE,MNG,
                          MNP,MOZ,MRT,MSR,MTQ,MUS,MWI,MYS,MYT,NAM,
                          NCL,NER,NFK,NGA,NIC,NIU,NLD,NOR,NPL,NRU,
                          NZL,OMN,PAK,PAN,PCN,PER,PHL,PLW,PNG,POL,
                          PRI,PRK,PRT,PRY,PSE,PYF,QAT,REU,ROU,RUS,
                          RWA,SAU,SDN,SEN,SGP,SGS,SHN,SJM,SLB,SLE,
                          SLV,SMR,SOM,SPM,SRB,SSD,STP,SUR,SVK,SVN,
                          SWE,SWZ,SXM,SYC,SYR,TCA,TCD,TGO,THA,TJK,
                          TKL,TKM,TLS,TON,TTO,TUN,TUR,TUV,TWN,TZA,
                          UGA,UKR,UMI,URY,USA,UZB,VAT,VCT,VEN,VGB,
                          VIR,VNM,VUT,WLF,WSM,YEM,ZAF,ZMB,ZWE"

# ***---------------------    09_drivers   ----------------------------------------
# * (aug17): default drivers
cfg$gms$drivers <- "aug17"          # def = aug17
cfg$gms$c09_pop_scenario  <- "SSP2"    # def = SSP2
cfg$gms$c09_gdp_scenario  <- "SSP2"    # def = SSP2
# *   options:   SSP: "SSP1", "SSP2", "SSP3", "SSP4", "SSP5"
# *             SRES: "A1", "A2", "B1", "B2"

# ***---------------------    10_land   ----------------------------------------
# * (feb15): default land realization
# * (landmatrix_dec18): includes a land transition matrix
cfg$gms$land <- "feb15"          # def = landmatrix_dec18

# ***---------------------    11_costs   ------ --------------------------------
# * (default): default cost realization
cfg$gms$costs <- "default"          # def = default

# ***---------------------    12_interest_rate ---------------------------------
# * (select_apr20): regional interest rates dependent on development state or global interest rate can be selected
cfg$gms$interest_rate <- "select_apr20"          # def = select_apr20

# * Interest rate scenario:
# * Options:  coupling      (exogenous interest rate from coupling with REMIND)
# *           gdp_dependent (regional interest rate dependent on development state)
# *           low           (low global interest rate)
# *           medium        (medium global interest rate)
# *           high          (high global interest rate)
# *           mixed         (mix of high, medium, low interest rate depending on development state)
# * c12_interest_rate applies to countries selected in select_countries12,
# * c12_interest_rate_noselect to all other countries.
# * The default is a regional interest rate that depends on the development state
# * of the region (gdp_dependent).
cfg$gms$c12_interest_rate <- "gdp_dependent"              # def = "gdp_dependent"
cfg$gms$c12_interest_rate_noselect <- "gdp_dependent"     # def = "gdp_dependent"

# * Regional interest rate policy scenario switch
# * Options:  list of iso-codes of countries where selected interest rate scenario
# *           should be in effect.
# * In all other countries, scenario selected in c12_interest_rate_noselect
# * is in effect.
# * Note: must be written in the format: "IND, BRA, DEU"
# * Default: all iso countries
cfg$gms$select_countries12  <- all_iso_countries      # def = all_iso_countries

# ***---------------------    13_tc    -----------------------------------------
# * (endo_jun18): endogenous technological change with full cost accounting and
# *               stepwise updated crop area information
# * (exo): exogenous technological change (removes non-linearities from the model);
# *			requires an existing model run with endo tc for generating the input file
# * 		f13_tau_scenario.csv
cfg$gms$tc <- "endo_jun18"              # def = endo_jun18

# * tc cost scenario: low, medium or high
cfg$gms$c13_tccost <- "medium"

# ***---------------------    14_yield    --------------------------------------
# * (biocorrect): cropland TC applied on pasture yields
# * (dynamic_aug18): pasture yields increase based on exogenuous demand-side proxy
# * 		     for growth rate of cattle stocks
cfg$gms$yields <- "dynamic_aug18"          # def = dynamic_aug18

# * yield scenario
# *   options:   cc  (climate change)
# *             nocc (no climate change)
cfg$gms$c14_yields_scenario  <- "nocc"   # def = "nocc"

# * switch determing the effectivity of translating crop tc into pasture yield
# * increase. Value has to be in the range of 0 (no pasture yield growth)
# * and 1 (pasture yields increase linearily with tau)
# * only used in biocorrect realization
cfg$gms$s14_yld_past_switch <- 0.25           # def = 0.25

# * IPCC BEF
cfg$gms$c14_bef <- "ipccBEF"

# * IPCC BEF GLOBAL
cfg$gms$s14_BEF_constant <- 2

# * plantation yiled switch
cfg$gms$s14_timber_plantation_yield <- 1     # def = 1

# ***---------------------    15_food    ---------------------------------------
# * (anthropometrics_jan18): estimates food using scenario dependent regression
# *                          and demography drivers
cfg$gms$food <- "anthropometrics_jan18"            # def = anthropometrics_jan18

# * maximal number of iterations between food and magpie model before
# * simulation proceeds to next time step
cfg$gms$s15_maxiter <- 5                   # def = 5

# * convergence criteria: maximal allowed country-wise deviation in calculated
# *                       real income between iterations
cfg$gms$s15_convergence <- 0.005            # def = 0.005

# * switch between exogenous and endogenous food demand
# *  options: 0 (exogenous food demand) and 1 (endogenous food demand)
cfg$gms$s15_elastic_demand <- 1            # def =1

# * food scenario for selected (and respectively not selected) countries
# * in scen_countries15
# *   options:   SSP: "SSP1", "SSP2", "SSP3", "SSP4", "SSP5"
# *             SRES: "A1", "A2", "B1", "B2"
# *            OTHER: "PB" (planetary boundaries)
cfg$gms$c15_food_scenario <- "SSP2"                 # def = SSP2
cfg$gms$c15_food_scenario_noselect <- "SSP2"        # def = SSP2

# * Temporal development of ruminant meat share within the livestock food product
# * group (applied before food demand model is executed)
# *   options:   constant, halving2050, mixed
cfg$gms$c15_rum_share <- "mixed"             # def = mixed

# * Stronger ruminant fadeout in India
# *   options:  0 (=off), 1 (=on)
cfg$gms$s15_rum_share_fadeout_india_strong <- 1             # def = 1

# * Milk share fadeout in India within the livestock food product
# * group (applied before food demand model is executed)
# *   options:  0 (=off), 1 (=on)
cfg$gms$s15_milk_share_fadeout_india <- 1             # def = 1

# * Exogenous food substitution scenarios including functional forms, targets
# * and transition periods (applied after food demand model is executed)
# *   options:   constant,
# *              lin_zero_10_50, lin_zero_20_50, lin_zero_20_30,
# *              lin_50pc_10_50_extend90, lin_75pc_10_50_extend90, lin_80pc_20_50, lin_80pc_20_50_extend95, lin_90pc_20_50_extend95,
# *              lin_99-98-90pc_20_50-60-100
cfg$gms$c15_rumscen <- "constant"                         # def = constant
cfg$gms$c15_fishscen <- "constant"                        # def = constant
cfg$gms$c15_alcscen <- "constant"                         # def = constant
cfg$gms$c15_livescen <- "constant"                        # def = constant


# * target year for transition to exogenous scenarios
# * only active for exogenous scenario switches that are set to 1
# * currently available: waste (s15_exo_waste) and EAT Lancet diets (s15_exo_diet)
# *   options:   y2030, y2050
cfg$gms$c15_exo_scen_targetyear <- "y2050"   # def = y2050


# * switch for transition to food waste scenarios
# * (1):      transition towards exogenous food waste target
# * (0):      regression-based estimation of food waste
cfg$gms$s15_exo_waste <- 0               # def = 0

# * scenario target for the ratio between food demand and intake
# * only activated if s15_exo_waste is set to 1
# *   options: scalars >1
# * (1.1):  corresponds to 10% food waste ~ quarter waste of HIC
# * (1.2):  corresponds to 20% food waste ~ half waste of HIC
cfg$gms$s15_waste_scen <- 1.2          # def = 1.2


# * switch for transition to EAT Lancet diet scenarios
# * (1):      transition towards exogenous diets and food demand
# * (0):      regression-based estimation of diets and food demand
cfg$gms$s15_exo_diet <- 0               # def = 0

# * exogenous calorie scenario (EAT Lancet diet scenarios)
# * only activated if s15_exo_diet is set to 1
# *   options:   healthy_BMI, 2100kcal, 2500kcal
cfg$gms$c15_kcal_scen <- "healthy_BMI"       # def = healthy_BMI

# * exogenous food-specific diet scenario (EAT Lancet diet scenarios)
# * only activated if s15_exo_diet is set to 1
# *   options:   BMK, FLX, PSC, VEG, VGN, FLX_hmilk, FLX_hredmeat
cfg$gms$c15_EAT_scen <- "FLX"                # def = FLX

# * Switch and specification of countries for which exogenous food scenarios
# * (EAT Lancet diet and food waste scenarios) and c15_food_scenario shall be applied
# * Options:  list of iso-codes of countries where exogenous scenario should be
# *           in effect
# * Note: must be written in the format: "IND, BRA, DEU"
# * Default: all iso countries
cfg$gms$scen_countries15  <- all_iso_countries



# * calibration to historical values
# *   options:   0, 1
cfg$gms$s15_calibrate <- 1             # def = 1


# ***---------------------    16_demand    -------------------------------------
# * (sector_may15): default for flexible regions
cfg$gms$demand <- "sector_may15"                # def = sector_may15

# ***---------------------    17_production    ---------------------------------
# * (flexreg_apr16): default production aggregation
cfg$gms$production <- "flexreg_apr16"          # def = flexreg_apr16

# ***---------------------    18_residues    -----------------------------------
# * (flexreg_apr16): detailed residue calculations
# * (off): off
cfg$gms$residues <- "flexreg_apr16"            # def = flexreg_apr16

# * residue on field burning
# * options:   phaseout - phaseout of residue burning to minimum burn share (0-10%)
# *            constant - constant shares of on field burning (15-25%)
cfg$gms$c18_burn_scen <- "phaseout"                     # def = phaseout


# ***---------------------    20_processing    ---------------------------------
# * (substitution_dec18)  : processing with couple products allowing for substitution
# * (off): off
cfg$gms$processing <- "substitution_dec18"        # def = substitution_dec18

# ***---------------------    21_trade    --------------------------------------
# * (free_apr16):       free trade without restrictions
# * (off):              no trade at all
# * (exo):              exogenously prescribed trade
# * (selfsuff_reduced): self-sufficiency based trade with trade costs related
# *                     to exports
# * (selfsuff_forestry): self-sufficiency based trade with trade costs related
# *                     to exports and intersolve calc for timber demand
cfg$gms$trade <- "selfsuff_reduced"             # def = selfsuff_reduced

# * trade balance reduction scenario
# * (l909090r808080):   10 percent trade liberalisation for secondary and
# *                     livestock products in 2030,2050,2100 and 20 percent for
# *                     crops
# * (l908080r807070):   livestock/secondary: 10% in 2030, 20% in 2050,2100
# *                     crops: 20% in 2030, 30% in 2050,2100
# * (l909595r809090):   livestock/secondary: 10% in 2030, 5% in 2050,2100
# *                     crops: 20% in 2030, 10% in 2050,2100
cfg$gms$c21_trade_liberalization  <- "l909090r808080"     # def = l909090r808080

# * whether trade tariff should be considered
# * (0) without trade tariff
# * (1) with  trade tariff
cfg$gms$s21_trade_tariff <- 1               # def =1

# ***---------------------    30_crop    ---------------------------------------
# * (endo_jun13): dynamic cropland
cfg$gms$crop    <- "endo_jun13"               # def = endo_jun13
# * (c30_bioen_type): switch for type of bioenergy crops; options: begr, betr, all
cfg$gms$c30_bioen_type <- "all"               # def = "all"
# * (c30_bioen_water): switch for irrigation of bioenergy crops; options: rainfed, irrigated, all
cfg$gms$c30_bioen_water <- "rainfed"               # def = "rainfed"

# ***---------------------    31_past    ---------------------------------------
# * (static):     static pasture
# * (endo_jun13): dynamic pasture
cfg$gms$past <- "endo_jun13"               # def = endo_jun13

# * Factor requirements (US$04 per ton DM)
cfg$gms$s31_fac_req_past  <- 1             # def = 1

# ***---------------------    32_forestry    -----------------------------------
# * (static_sep16) :     static forestry sector
# * (affore_vegc_dec16): static forestry sector + afforestation #to_be_deleted
# * (dynamic_oct19): 	static forestry sector + afforestation with detailed age-classes
# * (dynamic_mar20): 	Dynamic forestry sector + afforestation with detailed age-classes
# * (dynamic_faustmann): 	dynamic_mar20 plus unused calculation for faustmann rotations
cfg$gms$forestry  <- "dynamic_faustmann"              # def = dynamic_oct19

# * afforestation planing horizon (years)
cfg$gms$s32_planing_horizon <- 50                # def = 50

# * switch for using natveg (0) or plantation (1) growth curves for afforestation
cfg$gms$s32_aff_plantation <- 0		# def = 0

# * switch for using natveg (0) or plantation (1) growth curves for plantations
cfg$gms$s32_timber_plantation <- 1		# def = 0

# Afforestation policy
# * ("none"): no prescribed afforestation
# * ("npi"): prescribed afforestation based on NPI policies
# * ("ndc"): prescribed afforestation based on NPI+NDC policies
cfg$gms$c32_aff_policy <- "npi"              # def = "npi"

# maximum total global afforestation in Mha (Inf = no constraint)
cfg$gms$s32_max_aff_area <- Inf              # def = Inf

# Switch to determine whether afforestation should be limited to
# certain latitudinal zones
# * ("unrestricted"): No regions excluded
# * ("noboreal"): Exclude boreal regions > 50deg N
# * ("onlytropical"): Afforestation only in tropical areas 20deg S-20deg N
cfg$gms$c32_aff_mask <- "noboreal"            # def = "noboreal"

# ***---------------------    34_urban   ---------------------------------------
# * (static): static urban
cfg$gms$urban   <- "static"                # def = static

# ***---------------------    35_natveg    --------------------------------------
# * 35_natveg includes primforest, secdforest and other land
# * (static):               static natveg land
# * (dynamic_oct19): 		dynamic natveg land with detailed age-classes
# * (dynamic_nov19):   dynamic natveg land with detailed age-classes
cfg$gms$natveg  <- "dynamic_nov19"           # def = dynamic_oct19

# * protected areas (primforest,secdforest,other land)
# * (WDPA) WDPA IUCN catI+II
# * (BH) Biodiversity Hotspots + WDPA
# * (FF) Frontier Forests + WDPA
# * (CPD) Centres of Plant Diversity + WDPA
# * (LW) last of the wild + WDPA
# * (none) no protection
# * (forest) forest protection (primforest+secdforest)
# * (full) full protection
cfg$gms$c35_protect_scenario <- "WDPA"			# def = WDPA

# Avoided Deforestation policy
# * ("none"): no avoided deforestation
# * ("npi"): avoided deforestation based on NPI policies
# * ("ndc"): avoided deforestation based on NPI+NDC policies
cfg$gms$c35_ad_policy <- "npi"              # def = "npi"

# Avoided Other Land Conversion policye
# * ("none"): no avoided other land conversion
# * ("npi"): avoided other land conversion based on NPI policies
# * ("ndc"): avoided other land conversion based on NPI+NDC policies
cfg$gms$c35_aolc_policy <- "npi"              # def = "npi"


# ***---------------------    38_factor_costs    -------------------------------
# * (fixed_per_ton_mar18): factor costs fixed per ton
# * (mixed_feb17):         reimplementation of MAgPIE 3.0 default
cfg$gms$factor_costs <- "mixed_feb17"        # default = mixed_feb17

# ***---------------------    39_landconversion    -----------------------------
# * (global_static_aug18): global static land conversion costs for establishment
# *                        and land clearing
cfg$gms$landconversion <- "global_static_aug18"     # def = global_static_aug18

# ***---------------------    40_transport    ----------------------------------
# * (off):        no transport costs
# * (gtap_nov12): transport costs applied to crops and ruminant livestock
# *               products calibrated based on magpie-output (dynamic pasture)
# *               to match GTAP data
cfg$gms$transport <- "gtap_nov12"                   # def = gtap_nov12

# * scalar to introduce pasture transport costs
cfg$gms$s40_pasture_transport_costs <- 0             # def = 0

# ***---------------------    41_area_equipped_for_irrigation    ---------------
# * (static):     no expansion
# * (endo_apr13): endogenous, cost driven expansion
cfg$gms$area_equipped_for_irrigation <- "endo_apr13"   # def = endo_apr13

# ***---------------------    42_water_demand   --------------------------------
# * (agr_sector_aug13): fixed fraction of water available is reserved
# *                     for other uses
# * (all_sectors_aug13): industrial, eletricity and domestic demand are
# *                     retrieved from WATERGAP data.
cfg$gms$water_demand<- "agr_sector_aug13"            # def = agr_sector_aug13

# * water demand scenario
# *   options:   cc  (climate change)
# *             nocc (no climate change)
cfg$gms$c42_watdem_scenario  <- "nocc"   # def = "nocc"

# * Choice of fraction of available water that is not
# * available for agriculture (only affects agr_sector_aug13 realization)
cfg$gms$s42_reserved_fraction <- 0.5         # def = 0.5

# * Scenario for non agricultural water demand from WATERGAP
# * (only affects all_sector_aug13 realization)
# * (1): SSP2
# * (2): A2
# * (3): B1
cfg$gms$s42_watdem_nonagr_scenario <- 1      # def = 1

# * Switch to determine the irrigation efficiency scenario
# * (1): global static value
# * (2): regional static values from gdp regression
# * (3): gdp driven increase
cfg$gms$s42_irrig_eff_scenario <- 2           # def = 2

# * Irrigation efficiency
# * (Only used if global static value is requested)
cfg$gms$s42_irrigation_efficiency <- 0.66       # def=0.66

# * Environmental flow protection policy
# * (off):   no EFP policy
# * (on):    global EFP policy
# * (mixed): EFP policy only in hic regions
cfg$gms$c42_env_flow_policy <- "off"             # def = "off"

# * Switch and specification of countries for which environmental flow policy
# * shall apply.
# * Options: list of iso-codes of countries where EFP should be in effect.
# * Note: must be written in the format: "IND, BRA, DEU"
# * Default: all iso countries
cfg$gms$EFP_countries  <- all_iso_countries # def = all_iso_countries

# * Environmental flow protection scenario
# * (0): do not consider environmental flows.
# *      s42_env_flow_base_fraction and
# *      s42_env_flow_fraction have no effect.
# * (1): Reserve a certain fraction of available water
# *      specified by s42_env_flow_fraction for
# *      environmental flows
# * (2): Each grid cell receives its own value for
# *      environmental flow protection based on LPJ
# *      results and a calculation algorithm by Smakhtin 2004.
# *      s42_env_flow_fraction has no effect.
cfg$gms$s42_env_flow_scenario <- 2             # def = 2

# * Fraction of available water that is reserved for the environment
# * in case of a protection policy
# * In which regions and timesteps a protection policy is in place is determined
# * in the file EFR_protection_policy.csv in the input folder
# * of the 42_water_demand module
cfg$gms$s42_env_flow_fraction <- 0.2           # def = 0.2

# * Fraction of available water that is reserved for the environment in case of
# * missing protection policy
cfg$gms$s42_env_flow_base_fraction <- 0.05      # def = 0.05

# ***---------------------    43_water_availability   --------------------------
# * (total_water_aug13): surface and ground water resources available
cfg$gms$water_availability <- "total_water_aug13"    # def = total_water_aug13

# * water availability scenario
# *   options:   cc  (climate change)
# *             nocc (no climate change)
cfg$gms$c43_watavail_scenario  <- "nocc"   # def = "nocc"

# ***-------------------------    45_climate   ---------------------------------
# * (static): static koeppengeiger climate classification data
cfg$gms$climate <- "static"    # def = static

# ***-------------------------    50_nr_soil_budget   --------------------------
# * (off):          off
# * (exoeff_aug16): exogenous nr efficiency
cfg$gms$nr_soil_budget <- "exoeff_aug16"    # def = exoeff_aug16

# * Scenario for nr efficiency on croplands or pastures for selected (and
# * respectively non-selected) countries in cropneff_countries and pastneff_countries
# * Options: constant,
# *          neff55_55_starty1990,neff60_60_starty1990,neff65_70_starty1990,
# *          neff65_70_starty2010,neff60_60_starty2010,neff55_60_starty2010,
# *          neff70_75_starty2010,neff75_80_starty2010,neff80_85_starty2010
# *          neff85_85_starty2010
cfg$gms$c50_scen_neff <- "neff60_60_starty2010"   # def = neff60_60_starty2010
cfg$gms$c50_scen_neff_noselect <- "neff60_60_starty2010"   # def = neff60_60_starty2010
cfg$gms$c50_scen_neff_pasture <- "constant"   	  # def = constant
cfg$gms$c50_scen_neff_pasture_noselect <- "constant"   	  # def = constant

# * Switch and specification of countries for which above defined (c50_scen_neff,
# * c50_scen_neff_pasture) apply, respectively.
# * For all other countries c50_scen_neff_noselect / c50_scen_neff_pasture_noselect
# * apply.
# * Options: list of iso-codes of countries where selected neff scenario should
# * be in effect.
# * Note: must be written in the format: "IND, BRA, DEU"
# * Default: above defined neff scenario applies to all iso countries
cfg$gms$cropneff_countries  <- all_iso_countries
cfg$gms$pastneff_countries  <- all_iso_countries


# ***---------------------    51_nitrogen   ------------------------------------
# * (ipcc2006_sep16): IPCC based nitrogen implementation
# * (off):            no nitrogen calculations
cfg$gms$nitrogen    <- "ipcc2006_sep16"                 # def = ipcc2006_sep16

# ***---------------------    52_carbon   --------------------------------------
# * (normal_dec17): regrowth of carbon stocks in all c pools starts from pasture levels
# * (off):          carbon calculations deactivated
cfg$gms$carbon <- "normal_dec17"                       # def = normal_dec17

# * carbon scenario
# *   options:   cc  (climate change)
# *             nocc (no climate change)
cfg$gms$c52_carbon_scenario  <- "nocc"   # def = "nocc"

# * Carbon switch

cfg$gms$c52_carbon_switch <- "default_lpjml"          # def = "default_lpjml"

# ***---------------------    53_methane   -------------------------------------
# * (ipcc2006_flexreg_apr16): IPCC 1996 methodology
# * (off):                    methane calculations deactivated
cfg$gms$methane  <- "ipcc2006_flexreg_apr16"    # def = ipcc2006_flexreg_apr16

# ***---------------------    54_phosphorus   ----------------------------------
# * (off): calculations deactivated
cfg$gms$phosphorus  <- "off"                     # def = off

# ***---------------------    55_awms   ---------------------------------------
# * (ipcc2006_aug16): animal waste management systems
# *                   (based on IPCC 2006 Guidelines)
# * (off):            deactivated animal waste management
cfg$gms$awms  <- "ipcc2006_aug16"                     # def = ipcc2006_aug16

# * scenario for animal waste management.
# * option: "ssp1", "ssp2", "ssp3", "ssp4", "ssp5", "constant", "a1", "a2", "b1","b2",
#*          "GoodPractice"
# * Note: c55_scen_conf applies to countries selected in scen_countries55
# * c55_scen_conf_noselect applies to all other countries. In default, all countries
# * are selected and only c55_scen_conf has to be set.
# * Available scenarios for c55_scen_conf_noselect are identical to c55_scen_conf
cfg$gms$c55_scen_conf <- "ssp2"    # def = ssp2
cfg$gms$c55_scen_conf_noselect <- "ssp2"    # def = ssp2

# * Switch and specification of countries for which awm scenario in
# * c55_scen_conf applies.
# * Options: list of iso-codes of countries where awm scneario should be applied
# * Note: must be written in the format: "IND, BRA, DEU"
# * Default: all iso countries
cfg$gms$scen_countries55  <- all_iso_countries

# ***---------------------    56_ghg_policy   ----------------------------------
# * (price_jan20): applies pollutant prices to different emission types and calculates the reward for CDR from afforestation
cfg$gms$ghg_policy  <- "price_jan20"                     # def = price_jan20

# * Switch for scaling GHG price with development state (1=on 0=off)
cfg$gms$s56_ghgprice_devstate_scaling <- 0 		# def = 0

# * Switch for phasing-in GHG price over a 20 year period  (1=on 0=off)
cfg$gms$s56_ghgprice_phase_in <- 0 		# def = 0

# * start year of GHG emission pricing phase-in (only used if s56_ghgprice_phase_in=1)
cfg$gms$s56_ghgprice_start <- 2025 		# def = 2025

# * reduction factor for CO2 price (only used in price_jan19)
# * lowers the economic incentive for CO2 emission reduction (avoided deforestation) and afforestation
cfg$gms$s56_cprice_red_factor <- 1 		# def = 1

# * GHG pollutant price scenario
# * Available scenarios:
# *   	R2M41-SSP2-Budg1300,R2M41-SSP2-Budg600,
# *		R2M41-SSP2-Budg950,R2M41-SSP2-NDC,R2M41-SSP2-NPi,
# *		SSPDB-SSP1-20-IMAGE,SSPDB-SSP1-20-REMIND-MAGPIE,
# *   	SSPDB-SSP1-26-IMAGE,SSPDB-SSP1-26-REMIND-MAGPIE,
# *   	SSPDB-SSP1-34-IMAGE,SSPDB-SSP1-34-REMIND-MAGPIE,
# *   	SSPDB-SSP1-37-REMIND-MAGPIE,
# *   	SSPDB-SSP1-45-IMAGE,SSPDB-SSP1-45-REMIND-MAGPIE,
# *   	SSPDB-SSP1-Ref-IMAGE,SSPDB-SSP1-Ref-REMIND-MAGPIE,
# *   	SSPDB-SSP2-18-MESSAGE-GLOBIOM,SSPDB-SSP2-19-MESSAGE-GLOBIOM,
# *   	SSPDB-SSP2-20-MESSAGE-GLOBIOM,SSPDB-SSP2-20-REMIND-MAGPIE,
# *   	SSPDB-SSP2-26-MESSAGE-GLOBIOM,SSPDB-SSP2-26-REMIND-MAGPIE,
# *   	SSPDB-SSP2-34-MESSAGE-GLOBIOM,SSPDB-SSP2-34-REMIND-MAGPIE,
# *   	SSPDB-SSP2-37-REMIND-MAGPIE,
# *   	SSPDB-SSP2-45-MESSAGE-GLOBIOM,SSPDB-SSP2-45-REMIND-MAGPIE,
# *   	SSPDB-SSP2-60-MESSAGE-GLOBIOM,SSPDB-SSP2-60-REMIND-MAGPIE,
# *   	SSPDB-SSP2-Ref-MESSAGE-GLOBIOM,SSPDB-SSP2-Ref-REMIND-MAGPIE,
# *   	SSPDB-SSP3-34-AIM-CGE,SSPDB-SSP3-45-AIM-CGE,
# *   	SSPDB-SSP3-60-AIM-CGE,SSPDB-SSP4-26-GCAM4,
# *   	SSPDB-SSP4-34-GCAM4,SSPDB-SSP4-45-GCAM4,
# *   	SSPDB-SSP4-60-GCAM4,SSPDB-SSP4-Ref-GCAM4,
# *   	SSPDB-SSP5-20-REMIND-MAGPIE,SSPDB-SSP5-26-REMIND-MAGPIE,
# *   	SSPDB-SSP5-34-REMIND-MAGPIE,SSPDB-SSP5-37-REMIND-MAGPIE,
# *   	SSPDB-SSP5-45-REMIND-MAGPIE,SSPDB-SSP5-60-REMIND-MAGPIE,
# *   	SSPDB-SSP5-Ref-REMIND-MAGPIE,
# *     coupling
# * Note: c56_pollutant_prices applies to countries selected in policy_countries56
# * c56_pollutant_prices_noselect applies to all other countries. In default, all countries
# * are selected and only c56_pollutant_prices has to be set.
# * Available scenarios for c56_pollutant_prices_noselect are identical to c56_pollutant_prices
# * (see above) except for emulator and coupling (which can only be chosen for c56_pollutant_prices)
cfg$gms$c56_pollutant_prices <- "R2M41-SSP2-NPi"     # def = R2M41-SSP2-NPi
cfg$gms$c56_pollutant_prices_noselect <- "R2M41-SSP2-NPi"     # def = R2M41-SSP2-NPi

# * Switch and specification of countries for which pollutant pricing in
# * c56_pollutant_prices applies.
# * Options: list of iso-codes of countries where ghg policy should be applied
# * Note: must be written in the format: "IND, BRA, DEU"
# * Default: all iso countries
# * Note: Only for exogenous scenarios. Does not take any effect when "coupling" /
# * "emulator" is selected above.
cfg$gms$policy_countries56  <- all_iso_countries

# * Switch for C price driven afforestation (1=on 0=off)
cfg$gms$s56_c_price_induced_aff <- 1

# * C price expectation for afforestation decision-making in years
# * 0 is myopic behaviour (only C price of current time step)
# * reflects perfect-foresight if equal to s32_planing_horizon
# * should not be higher than s32_planing_horizon
cfg$gms$s56_c_price_exp_aff <- 50 	# def = 50

# * share of carbon credits for afforestation projects pooled in a buffer
# * Values > 0 will reduced the incentive for c price induced afforestation
# * a plausible value is 0.2, based on the Gold Standard for afforestation projects
cfg$gms$s56_buffer_aff <- 0.2 	# def = 0.2

# * Upper limit for CH4 and N2O GHG price (USD05MER per tC)
# * Limits GHG prices selected in c56_pollutant_prices to the chosen value.
# * CH4 and N2O GHG prices are limited by default to 1000 USD05MER per tC equivalent,
# * which induces the maximum abatement possible in the 57_maccs module.
# * Beyond 1000 USD05MER per tC equivalent no further technical mitigation is possible
# * but would increase food prices.
cfg$gms$s56_limit_ch4_n2o_price <- 1000   # def = 1000

# * emission policies
# * options: none, all, ssp_nosoil, redd+_nosoil, all_nosoil
# * none:       Not including any GHG sources
# * ssp_nosoil: Above ground CO2 emis from LUC in natveg; all CH4 and N2O emissions
# * redd+_nosoil: Above ground CO2 emis from LUC in natveg and forestry; all CH4 and N2O emissions
# * all_nosoil: Above ground CO2 emis from LUC for all LUs; all CH4 and N2O emissions
# * all:        CO2 emis from LUC in all LUs; all CH4 and N2O emissions
cfg$gms$c56_emis_policy <- "redd+_nosoil" 		# def = redd+_nosoil

# * Treatment of negative costs originating from negative co2 emissions
# * reward negative co2 emissions (-Inf) or not (0)
# * s56_reward_neg_emis is applied on the emission policy chosen in c56_emis_policy
# * In case of carbon pricing s56_reward_neg_emis = -Inf results in increase of other land
# * For runs with afforestation s56_reward_neg_emis should be 0 (default setting)
cfg$gms$s56_reward_neg_emis <- 0			# def = 0

# * Switch for plantations growth curve
cfg$gms$c52_plantation_gc_switch <- "plantations"

# ***---------------------    57_maccs   ---------------------------------------
# * (on_sep16):  maccs for non-CO2 emission mitigation activated
# * (off_jul16): maccs for non-CO2 emission mitigation deactivated
cfg$gms$maccs  <- "on_sep16"                     # def = on_sep16

# ***-------------------------    59_som   -------------------------------------
# * (static_jan19): static soil carbon loss for cropland
# * (cellpool_aug16): dynamic soil organic matter pool on cellular level
cfg$gms$som <- "static_jan19"    # def = off

# * static realization switch
# *   options:   cellular  (use preprocessed cellular stock change factors)
# *              cluster   (use cshare_released on cluster within gams)
cfg$gms$c59_static_spatial_level <-  "cellular"

# * cellpool realization switches

# * som climate impact scenario
# *   options:   cc  (climate change)
# *             nocc (no climate change)
cfg$gms$c59_som_scenario  <- "nocc"   # def = "nocc"

# * irrigation feedback
# *   options:   on  (higher carbon sequestration under irrigation)
# *              off (no carbon sequestration under irrigation)
cfg$gms$c59_irrigation_scenario   <- "on"    # def = "on"

# ***---------------------    60_bioenergy   -----------------------------------
# * (1stgen_priced_dec18):    exogenous and price-based 1st generation bioenergy
# *                           demand, 2nd generation residues exogeneous,
# *                           2nd generation betr and begr coupled with REMIND.
cfg$gms$bioenergy <- "1stgen_priced_dec18"     # def = 1stgen_priced_dec18

# * 1st generation bioenergy demand scenarios based on Lotze Campen (2014)
# * (phaseout2020): increase until 2020, followed by phaseout until 2050
# * (const2020): increase until 2020, constant thereafter
# * (const2030): increase until 2030, constant thereafter
cfg$gms$c60_1stgen_biodem <- "const2020"               # def = const2020

# * 2nd generation bioenergy demand scenario
# * Available scenarios:
# *   	R2M41-SSP2-Budg1300,R2M41-SSP2-Budg600,
# *		R2M41-SSP2-Budg950,R2M41-SSP2-NDC,R2M41-SSP2-NPi,
# *		SSPDB-SSP1-20-IMAGE,SSPDB-SSP1-20-REMIND-MAGPIE,
# *   	SSPDB-SSP1-26-IMAGE,SSPDB-SSP1-26-REMIND-MAGPIE,
# *   	SSPDB-SSP1-34-IMAGE,SSPDB-SSP1-34-REMIND-MAGPIE,
# *   	SSPDB-SSP1-37-REMIND-MAGPIE,
# *   	SSPDB-SSP1-45-IMAGE,SSPDB-SSP1-45-REMIND-MAGPIE,
# *   	SSPDB-SSP1-Ref-IMAGE,SSPDB-SSP1-Ref-REMIND-MAGPIE,
# *   	SSPDB-SSP2-18-MESSAGE-GLOBIOM,SSPDB-SSP2-19-MESSAGE-GLOBIOM,
# *   	SSPDB-SSP2-20-MESSAGE-GLOBIOM,SSPDB-SSP2-20-REMIND-MAGPIE,
# *   	SSPDB-SSP2-26-MESSAGE-GLOBIOM,SSPDB-SSP2-26-REMIND-MAGPIE,
# *   	SSPDB-SSP2-34-MESSAGE-GLOBIOM,SSPDB-SSP2-34-REMIND-MAGPIE,
# *   	SSPDB-SSP2-37-REMIND-MAGPIE,
# *   	SSPDB-SSP2-45-MESSAGE-GLOBIOM,SSPDB-SSP2-45-REMIND-MAGPIE,
# *   	SSPDB-SSP2-60-MESSAGE-GLOBIOM,SSPDB-SSP2-60-REMIND-MAGPIE,
# *   	SSPDB-SSP2-Ref-MESSAGE-GLOBIOM,SSPDB-SSP2-Ref-REMIND-MAGPIE,
# *   	SSPDB-SSP3-34-AIM-CGE,SSPDB-SSP3-45-AIM-CGE,
# *   	SSPDB-SSP3-60-AIM-CGE,SSPDB-SSP4-26-GCAM4,
# *   	SSPDB-SSP4-34-GCAM4,SSPDB-SSP4-45-GCAM4,
# *   	SSPDB-SSP4-60-GCAM4,SSPDB-SSP4-Ref-GCAM4,
# *   	SSPDB-SSP5-20-REMIND-MAGPIE,SSPDB-SSP5-26-REMIND-MAGPIE,
# *   	SSPDB-SSP5-34-REMIND-MAGPIE,SSPDB-SSP5-37-REMIND-MAGPIE,
# *   	SSPDB-SSP5-45-REMIND-MAGPIE,SSPDB-SSP5-60-REMIND-MAGPIE,
# *   	SSPDB-SSP5-Ref-REMIND-MAGPIE,
# *     coupling
# * Note: c60_2ndgen_biodem applies to countries selected in scen_countries60
# * c60_2ndgen_biodem_noselect applies to all other countries. In default, all countries
# * are selected and only c60_2ndgen_biodem has to be set.
cfg$gms$c60_2ndgen_biodem <- "R2M41-SSP2-NPi"     # def = R2M41-SSP2-NPi
cfg$gms$c60_2ndgen_biodem_noselect <- "R2M41-SSP2-NPi"     # def = R2M41-SSP2-NPi

# * Switch and specification of countries for which 2nd gen bioenergy demand
# * scenario applies.
# * Options: list of iso-codes of countries where scenario should be applied
# * Note: must be written in the format: "IND, BRA, DEU"
# * Default: all iso countries
# * Note: Only for exogenous scenarios. Does not take any effect when "coupling" /
# * "emulator" selected.
cfg$gms$scen_countries60  <- all_iso_countries

# * residue demand for 2nd generation bioenergy scenarios
# * options:    ssp1, ssp2, ssp3, ssp4, ssp5, off
cfg$gms$c60_res_2ndgenBE_dem <- "ssp2"     # def = ssp2

# * bioenergy demand level
# * (1): regional
# * (0): global
cfg$gms$c60_biodem_level <- 1                     # def = 1

# * first generation bioenergy subsidy (USD05MER per ton)
cfg$gms$c60_bioenergy_subsidy <- 300              # def = 300


# ***---------------------    62_material   ------------------------------------
# * (exo_flexreg_apr16): default
cfg$gms$material <- "exo_flexreg_apr16"

# ***---------------------    70_livestock   -----------------------------------
# * (fbask_jan16): default feed basket realization
cfg$gms$livestock <- "fbask_jan16"                  # def = fbask_jan16

# * feed scenario
# *   options:    ssp1, ssp2, ssp3, ssp4, ssp5, constant
cfg$gms$c70_feed_scen <- "ssp2"                     # def = ssp2

# ***---------------------    71_disagg_lvst   -----------------------------------
# * (off):               default
# * (foragebased_aug18): Disaggregation of livestock to cells
# *                      with high pasture and fodder availability
cfg$gms$disagg_lvst <- "foragebased_aug18"                  # def = foragebased_aug18

# ***---------------------    73_timber   -----------------------------------
# * (biomass_mar20): WIP
cfg$gms$timber <- "biomass_mar20"                  # def = biomass_mar20

# Switch for timber demand
cfg$gms$s73_timber_demand <- 1

# Setting if demand adjuster should be price based or manuall adjusted
cfg$gms$s73_price_adjuster <- 0       # def = 0

# Counter for iterations of demand adjustment
cfg$gms$s73_counter <- 0

# Maximum iterations for demand adjustments
cfg$gms$s73_maxiter <- 5

# price elasticity from lauri et al
cfg$gms$s73_price_elasticity <- -0.5

# Counter for iterations of demand adjustment
cfg$gms$s73_counter2 <- 0

# Maximum iterations for demand adjustments
cfg$gms$s73_maxiter2 <- 5


# ***-------------------    80_optimization ------------------------------------
# * (nlp_apr17):    solve procedure solving the whole, nonlinear problem
# *                 at once
# * (lp_nlp_apr17): alternative approach in which the nonlinear terms are
# *                 fixed first so that the linear problem can be solved
# *                 before the full problem is solved
cfg$gms$optimization <- "nlp_apr17"              # def = nlp_apr17

# maximal number of solve iterations
cfg$gms$s80_maxiter <- 30

# * (conopt3):         conopt3
# * (conopt4):         conopt4
# * (conopt4+cplex):   conopt4 followed by cplex with landdiff optimization
# * (conopt4+conopt3): conopt4 followed by conopt3
cfg$gms$c80_nlp_solver <- "conopt4"              # def = conopt4

# number of allowed non-optimal variables
# Should be set to 0 for GAMS version 25.x.x or earlier
# Should be set to Inf for GAMS version 26.x.x or later
cfg$gms$s80_num_nonopt_allowed <- Inf

# * 1: using optfile for specified solver settings
# * 0: default settings (optfile will be ignored)
cfg$gms$s80_optfile <- 0


#*******************************END MODULE SETUP********************************

#### Other settings (e.g. clustering, gdx files, ...): ####

# Decide whether the runs should be run sequentially (TRUE),
# or in parallel (FALSE)
# NA means that this decision is taken automatically
# (typically on cluster = FALSE and locally = TRUE)
cfg$sequential <- NA

# Selection of QOS to be used for submitted runs on cluster.
# Will be ignored for all other runs.
# *   options:   short  (24h max, no preemption)
# *              medium (1 week max, no preemption)
# *              prio (immediate start, but slots limited to 5 in parallel)
# *              standby (1 week max, preemption possible)
# *              NULL (educated guess of best option based
# *                    available resources)
cfg$qos <- NULL                # def = NULL

# How should log information be treated?
# (0:no output, 2:write to full.log 3:show in console)
cfg$logoption <- 2

# Should output.R generate output?
# List of output scripts that should be used
# Available scripts can be found in scripts/output/
cfg$output <- c("rds_report","validation","disaggregation")

# Set the format for the results folder
# :date: is a placeholder for the current time stamp (e.g. "results:date:")
# :title: is a placeholder for the current run title (cfg$title)
cfg$results_folder <- "output/:title::date:"

# Which files should be copied into the output folder?
cfg$files2export <- list()
# Files that should be copied before MAgPIE is started
cfg$files2export$start <- c("input/info.txt",
                            "modules/10_land/input/avl_land_t_0.5.mz",
                            "modules/14_yields/input/lpj_yields_0.5.mz",
                            "modules/50_nr_soil_budget/input/f50_NitrogenFixationRateNatural_0.5.mz",
                            "modules/50_nr_soil_budget/input/f50_AtmosphericDepositionRates_0.5.mz",
                            "input/spatial_header.rda",
                            "scripts/run_submit/submit.R",
                            "scripts/run_submit/submit_*.sh",
                            ".Rprofile",
                            "input/*.spam",
                            "input/validation.mif",
                            "calib_*.cs3",
                            "input/spamplot_*.pdf")

# Files that should be copied after the MAgPIE run is finished
cfg$files2export$end <- NULL

# Folder run statistics should be submitted to
cfg$runstatistics <- "/p/projects/rd3mod/models/statistics/magpie"

# name of the overall model (just used for reporting purposes)
# should usually not be changed
cfg$model_name <- "MAgPIE"

# model version of the overall model (use extension "-rc" for release candidate
# and "-dev" for developer version)
cfg$model_version <- "4.0-rc"

# Should the model run in developer mode? This will loosen some restrictions,
# such as temporary toleration of coding etiquette violations
# Please make sure to set it to FALSE for production runs!
cfg$developer_mode <- FALSE

# Should the model run in debug mode?
# Download script will copy files from input to destination folder instead of
# moving it allowing to check whether something in the move/copy process goes
# wrong
cfg$debug <- FALSE

################################################################################
